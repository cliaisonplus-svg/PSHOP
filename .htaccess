# Configuration Apache pour le projet PSHOP
# Permet de servir les modules ES6 et les fichiers statiques correctement

# Configuration MIME types pour les modules ES6
AddType application/javascript js mjs
AddType application/json json
AddType text/css css

# Headers pour les modules ES6 (nécessite mod_headers)
<IfModule mod_headers.c>
    # Headers pour les fichiers JavaScript
    <FilesMatch "\.(js|mjs)$">
        Header set Content-Type "application/javascript; charset=utf-8"
        Header set Access-Control-Allow-Origin "*"
    </FilesMatch>
    
    # Headers pour les fichiers JSON
    <FilesMatch "\.json$">
        Header set Content-Type "application/json; charset=utf-8"
    </FilesMatch>
    
    # Headers pour les fichiers CSS
    <FilesMatch "\.css$">
        Header set Content-Type "text/css; charset=utf-8"
    </FilesMatch>
</IfModule>

# Activer la compression (nécessite mod_deflate)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>

# Cache des fichiers statiques (nécessite mod_expires)
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType application/json "access plus 0 seconds"
</IfModule>
